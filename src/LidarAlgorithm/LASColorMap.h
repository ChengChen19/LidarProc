#pragma once
#define CLR_LIGHTPINK               RGB(255, 182, 193)      // 浅粉红  
#define CLR_PINK                    RGB(255, 192, 203)      // 粉红  
#define CLR_CRIMSON                 RGB(220,  20,  60)      // 猩红 (深红)  
#define CLR_LAVENDERBLUSH           RGB(255, 240, 245)      // 淡紫红  
#define CLR_PALEVIOLETRED           RGB(219, 112, 147)      // 弱紫罗兰红  
#define CLR_HOTPINK                 RGB(255, 105, 180)      // 热情的粉红  
#define CLR_DEEPPINK                RGB(255,  20, 147)      // 深粉红  
#define CLR_MEDIUMVIOLETRED         RGB(199,  21, 133)      // 中紫罗兰红  
#define CLR_ORCHID                  RGB(218, 112, 214)      // 兰花紫  
#define CLR_THISTLE                 RGB(216, 191, 216)      // 蓟  
#define CLR_PLUM                    RGB(221, 160, 221)      // 李子紫  
#define CLR_VIOLET                  RGB(238, 130, 238)      // 紫罗兰  
#define CLR_MAGENTA                 RGB(255,   0, 255)      // 洋红 (品红 玫瑰红)  
#define CLR_FUCHSIA                 RGB(255,   0, 255)      // 灯笼海棠(紫红色)  
#define CLR_DARKMAGENTA             RGB(139,   0, 139)      // 深洋红  
#define CLR_PURPLE                  RGB(128,   0, 128)      // 紫色  
#define CLR_MEDIUMORCHID            RGB(186,  85, 211)      // 中兰花紫  
#define CLR_DARKVIOLET              RGB(148,   0, 211)      // 暗紫罗兰  
#define CLR_DARKORCHID              RGB(153,  50, 204)      // 暗兰花紫  
#define CLR_INDIGO                  RGB( 75,   0, 130)      // 靛青 (紫兰色)  
#define CLR_BLUEVIOLET              RGB(138,  43, 226)      // 蓝紫罗兰  
#define CLR_MEDIUMPURPLE            RGB(147, 112, 219)      // 中紫色  
#define CLR_MEDIUMSLATEBLUE         RGB(123, 104, 238)      // 中板岩蓝  
#define CLR_SLATEBLUE               RGB(106,  90, 205)      // 板岩蓝  
#define CLR_DARKSLATEBLUE           RGB( 72,  61, 139)      // 暗板岩蓝  
#define CLR_LAVENDER                RGB(230, 230, 250)      // 熏衣草淡紫  
#define CLR_GHOSTWHITE              RGB(248, 248, 255)      // 幽灵白  
#define CLR_BLUE                    RGB(  0,   0, 255)      // 纯蓝  
#define CLR_MEDIUMBLUE              RGB(  0,   0, 205)      // 中蓝色  
#define CLR_MIDNIGHTBLUE            RGB( 25,  25, 112)      // 午夜蓝  
#define CLR_DARKBLUE                RGB(  0,   0, 139)      // 暗蓝色  
#define CLR_NAVY                    RGB(  0,   0, 128)      // 海军蓝  
#define CLR_ROYALBLUE               RGB( 65, 105, 225)      // 皇家蓝 (宝蓝)  
#define CLR_CORNFLOWERBLUE          RGB(100, 149, 237)      // 矢车菊蓝  
#define CLR_LIGHTSTEELBLUE          RGB(176, 196, 222)      // 亮钢蓝  
#define CLR_LIGHTSLATEGRAY          RGB(119, 136, 153)      // 亮石板灰  
#define CLR_SLATEGRAY               RGB(112, 128, 144)      // 石板灰  
#define CLR_DODGERBLUE              RGB( 30, 144, 255)      // 道奇蓝  
#define CLR_ALICEBLUE               RGB(240, 248, 255)      // 爱丽丝蓝  
#define CLR_STEELBLUE               RGB( 70, 130, 180)      // 钢蓝 (铁青)  
#define CLR_LIGHTSKYBLUE            RGB(135, 206, 250)      // 亮天蓝色  
#define CLR_SKYBLUE                 RGB(135, 206, 235)      // 天蓝色  
#define CLR_DEEPSKYBLUE             RGB(  0, 191, 255)      // 深天蓝  
#define CLR_LIGHTBLUE               RGB(173, 216, 230)      // 亮蓝  
#define CLR_POWDERBLUE              RGB(176, 224, 230)      // 火药青  
#define CLR_CADETBLUE               RGB( 95, 158, 160)      // 军服蓝  
#define CLR_AZURE                   RGB(240, 255, 255)      // 蔚蓝色  
#define CLR_LIGHTCYAN               RGB(224, 255, 255)      // 淡青色  
#define CLR_PALETURQUOISE           RGB(175, 238, 238)      // 弱绿宝石  
#define CLR_CYAN                    RGB(  0, 255, 255)      // 青色  
#define CLR_AQUA                    RGB(  0, 255, 255)      // 水色  
#define CLR_DARKTURQUOISE           RGB(  0, 206, 209)      // 暗绿宝石  
#define CLR_DARKSLATEGRAY           RGB( 47,  79,  79)      // 暗石板灰  
#define CLR_DARKCYAN                RGB(  0, 139, 139)      // 暗青色  
#define CLR_TEAL                    RGB(  0, 128, 128)      // 水鸭色  
#define CLR_MEDIUMTURQUOISE         RGB( 72, 209, 204)      // 中绿宝石  
#define CLR_LIGHTSEAGREEN           RGB( 32, 178, 170)      // 浅海洋绿  
#define CLR_TURQUOISE               RGB( 64, 224, 208)      // 绿宝石  
#define CLR_AQUAMARINE              RGB(127, 255, 212)      // 宝石碧绿  
#define CLR_MEDIUMAQUAMARINE        RGB(102, 205, 170)      // 中宝石碧绿  
#define CLR_MEDIUMSPRINGGREEN       RGB(  0, 250, 154)      // 中春绿色  
#define CLR_MINTCREAM               RGB(245, 255, 250)      // 薄荷奶油  
#define CLR_SPRINGGREEN             RGB(  0, 255, 127)      // 春绿色  
#define CLR_MEDIUMSEAGREEN          RGB( 60, 179, 113)      // 中海洋绿  
#define CLR_SEAGREEN                RGB( 46, 139,  87)      // 海洋绿  
#define CLR_HONEYDEW                RGB(240, 255, 240)      // 蜜瓜色  
#define CLR_LIGHTGREEN              RGB(144, 238, 144)      // 淡绿色  
#define CLR_PALEGREEN               RGB(152, 251, 152)      // 弱绿色  
#define CLR_DARKSEAGREEN            RGB(143, 188, 143)      // 暗海洋绿  
#define CLR_LIMEGREEN               RGB( 50, 205,  50)      // 闪光深绿  
#define CLR_LIME                    RGB(  0, 255,   0)      // 闪光绿  
#define CLR_FORESTGREEN             RGB( 34, 139,  34)      // 森林绿  
#define CLR_GREEN                   RGB(  0, 128,   0)      // 纯绿  
#define CLR_DARKGREEN               RGB(  0, 100,   0)      // 暗绿色  
#define CLR_CHARTREUSE              RGB(127, 255,   0)      // 查特酒绿 (黄绿色)  
#define CLR_LAWNGREEN               RGB(124, 252,   0)      // 草坪绿  
#define CLR_GREENYELLOW             RGB(173, 255,  47)      // 绿黄色  
#define CLR_DARKOLIVEGREEN          RGB( 85, 107,  47)      // 暗橄榄绿  
#define CLR_YELLOWGREEN             RGB(154, 205,  50)      // 黄绿色  
#define CLR_OLIVEDRAB               RGB(107, 142,  35)      // 橄榄褐色  
#define CLR_BEIGE                   RGB(245, 245, 220)      // 米色(灰棕色)  
#define CLR_LIGHTGOLDENRODYELLOW    RGB(250, 250, 210)      // 亮菊黄  
#define CLR_IVORY                   RGB(255, 255, 240)      // 象牙  
#define CLR_LIGHTYELLOW             RGB(255, 255, 224)      // 浅黄色  
#define CLR_YELLOW                  RGB(255, 255,   0)      // 纯黄  
#define CLR_OLIVE                   RGB(128, 128,   0)      // 橄榄  
#define CLR_DARKKHAKI               RGB(189, 183, 107)      // 深卡叽布  
#define CLR_LEMONCHIFFON            RGB(255, 250, 205)      // 柠檬绸  
#define CLR_PALEGOLDENROD           RGB(238, 232, 170)      // 灰菊黄  
#define CLR_KHAKI                   RGB(240, 230, 140)      // 卡叽布  
#define CLR_GOLD                    RGB(255, 215,   0)      // 金色  
#define CLR_CORNSILK                RGB(255, 248, 220)      // 玉米丝色  
#define CLR_GOLDENROD               RGB(218, 165,  32)      // 金菊黄  
#define CLR_DARKGOLDENROD           RGB(184, 134,  11)      // 暗金菊黄  
#define CLR_FLORALWHITE             RGB(255, 250, 240)      // 花的白色  
#define CLR_OLDLACE                 RGB(253, 245, 230)      // 旧蕾丝  
#define CLR_WHEAT                   RGB(245, 222, 179)      // 小麦色  
#define CLR_MOCCASIN                RGB(255, 228, 181)      // 鹿皮靴  
#define CLR_ORANGE                  RGB(255, 165,   0)      // 橙色  
#define CLR_PAPAYAWHIP              RGB(255, 239, 213)      // 番木瓜  
#define CLR_BLANCHEDALMOND          RGB(255, 235, 205)      // 发白的杏仁色  
#define CLR_NAVAJOWHITE             RGB(255, 222, 173)      // 土著白  
#define CLR_ANTIQUEWHITE            RGB(250, 235, 215)      // 古董白  
#define CLR_TAN                     RGB(210, 180, 140)      // 茶色  
#define CLR_BURLYWOOD               RGB(222, 184, 135)      // 硬木色  
#define CLR_BISQUE                  RGB(255, 228, 196)      // 陶坯黄  
#define CLR_DARKORANGE              RGB(255, 140,   0)      // 深橙色  
#define CLR_LINEN                   RGB(250, 240, 230)      // 亚麻布  
#define CLR_PERU                    RGB(205, 133,  63)      // 秘鲁  
#define CLR_PEACHPUFF               RGB(255, 218, 185)      // 桃肉色  
#define CLR_SANDYBROWN              RGB(244, 164,  96)      // 沙棕色  
#define CLR_CHOCOLATE               RGB(210, 105,  30)      // 巧克力  
#define CLR_SADDLEBROWN             RGB(139,  69,  19)      // 马鞍棕色  
#define CLR_SEASHELL                RGB(255, 245, 238)      // 海贝壳  
#define CLR_SIENNA                  RGB(160,  82,  45)      // 黄土赭色  
#define CLR_LIGHTSALMON             RGB(255, 160, 122)      // 浅鲑鱼肉色  
#define CLR_CORAL                   RGB(255, 127,  80)      // 珊瑚  
#define CLR_ORANGERED               RGB(255,  69,   0)      // 橙红色  
#define CLR_DARKSALMON              RGB(233, 150, 122)      // 深鲜肉(鲑鱼)色  
#define CLR_TOMATO                  RGB(255,  99,  71)      // 番茄红  
#define CLR_MISTYROSE               RGB(255, 228, 225)      // 薄雾玫瑰  
#define CLR_SALMON                  RGB(250, 128, 114)      // 鲜肉(鲑鱼)色  
#define CLR_SNOW                    RGB(255, 250, 250)      // 雪  
#define CLR_LIGHTCORAL              RGB(240, 128, 128)      // 淡珊瑚色  
#define CLR_ROSYBROWN               RGB(188, 143, 143)      // 玫瑰棕色  
#define CLR_INDIANRED               RGB(205,  92,  92)      // 印度红  
#define CLR_RED                     RGB(255,   0,   0)      // 纯红  
#define CLR_BROWN                   RGB(165,  42,  42)      // 棕色  
#define CLR_FIREBRICK               RGB(178,  34,  34)      // 耐火砖  
#define CLR_DARKRED                 RGB(139,   0,   0)      // 深红色  
#define CLR_MAROON                  RGB(128,   0,   0)      // 栗色  
#define CLR_WHITE                   RGB(255, 255, 255)      // 纯白  
#define CLR_WHITESMOKE              RGB(245, 245, 245)      // 白烟  
#define CLR_GAINSBORO               RGB(220, 220, 220)      // 庚斯博罗灰色  
#define CLR_LIGHTGREY               RGB(211, 211, 211)      // 浅灰色  
#define CLR_SILVER                  RGB(192, 192, 192)      // 银灰色  
#define CLR_DARKGRAY                RGB(169, 169, 169)      // 深灰色  
#define CLR_GRAY                    RGB(186, 183, 186)      // 灰色(*)  
#define CLR_DIMGRAY                 RGB(105, 105, 105)      // 暗淡的灰色  
#define CLR_BLACK                   RGB(  0,   0,   0)      // 纯黑

#include <vector>
#include <string>
#include"gdal_priv.h"
#include "../LidarGeometry/Geometry.h"

using namespace std;
using namespace GeometryLas;

/**/
class LASColorMap{
public:

	/**
	* color mapping using image file
	* @param const char* pathLas     :las file to be color mapped
	* @param vector<string> pathImgs :color mapped image list
	* @param const char* pathOutLas  :output corlor mapped las dir
	* @return error code
	*/
    long LASColorMap_Map(const char* pathLas, vector<string> pathImgs, const char* pathOutLas);

	/**
	* color mapping using image file
	* @param const char* pathLas     :las file to be color mapped
	* @param const char* pathImg     :color mapped image
	* @param const char* pathOutLas  :output corlor mapped las dir
	* @return error code
	*/
    long LASColorMap_Map(const char* pathLas, const char* pathImg, const char* pathOutLas);

protected:
	/**
	* get image range
	* @param GDALDatasetH m_dataset  : image dataset read by GDAL
	* @return range Rect of the image
	*/
    Rect2D LASColorMap_ImageRange(GDALDatasetH m_dataset);

	/**
	* map the coordinate from map to image
	* @param double mx : map x coordinate
    * @param double my : map x coordinate
    * @param double adfGeoTransform[6] : affineTrans parameters
    * @param int &ix : image x coordinate
    * @param int &iy : image y coordinate
	* @return 
	*/
    bool LASColorMap_MapToImage(double mx, double my, double* adfGeoTransform, int &ix, int &iy);

	/**
	* map the coordinate from image to map
    * @param int ix : image x coordinate
    * @param int iy : image y coordinate
    * @param double adfGeoTransform[6] : affineTrans parameters
    * @param double &mx : map x coordinate
    * @param double &my : map x coordinate
	* @return 
	*/
    bool LASColorMap_ImageToMap(int ix, int iy, double *adfGeoTransform, double &mx, double &my);
};
